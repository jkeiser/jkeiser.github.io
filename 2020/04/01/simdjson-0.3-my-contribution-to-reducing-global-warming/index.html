<!DOCTYPE html>
<html lang="en-us">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Simdjson 0.3: My Contribution to Reducing Global Warming</title>
        <link rel="canonical" href="/2020/04/01/simdjson-0.3-my-contribution-to-reducing-global-warming/">
        <style>

    html body {
        font-family: 'Mina', sans-serif;
        background-color: #f5f5f5;
    }

    :root {
        --accent: #386890;
        --border-width:  0 ;
    }

</style>


<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Mina">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=VT323">


 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/lakeside-light.min.css"> 


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">


<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.0/css/all.css" integrity="sha384-Mmxa0mLqhmOeaE8vgOSbKacftZcsNYDjQzuCOm6D02luYSzBG8vpaOykv9lFQ51Y" crossorigin="anonymous">


<link rel="stylesheet" href="/css/main.css">




 


    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/r.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/bash.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/go.min.js"></script>
    

    <script>hljs.initHighlightingOnLoad();</script>







<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>


<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>


<link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">
<script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>


<script>$(document).on('click', function() { $('.collapse').collapse('hide'); })</script>


<script>
$(document).ready(function(){
    
  var input = $('#night-mode-toggle');
  var container = $('#bigbody');
  var stat = $('#button-status');
  
  container.toggleClass(localStorage.toggled);
  stat.bootstrapToggle(localStorage.button).change();
  
  input.on('click', function() {
      if (localStorage.toggled != "-nightmode" ) {
          container.toggleClass("-nightmode", true );
          localStorage.toggled = "-nightmode";
          localStorage.button = "on";
       } else {
          container.toggleClass("-nightmode", false );
          localStorage.toggled = "";
          localStorage.button = "off"
       }
  })
});
</script>
 <meta name="generator" content="Hugo 0.68.3" />
        <link href="" rel="alternate" type="application/rss+xml" title="John Keiser" />
        <link href="" rel="feed" type="application/rss+xml" title="John Keiser" />
        

    
    <link rel="apple-touch-icon" sizes="180x180" href="/img/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon/favicon-16x16.png">
    <link rel="manifest" href="/img/favicon/site.webmanifest">
    <link rel="mask-icon" href="/img/favicon/safari-pinned-tab.svg" color="#000000">
    <link rel="shortcut icon" href="/img/favicon/favicon.ico">
    <meta name="msapplication-TileColor" content="#2b5797">
    <meta name="msapplication-config" content="/img/favicon/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    
    
    
    <meta property="og:title" content="Simdjson 0.3: My Contribution to Reducing Global Warming">
    <meta property="og:type" content="article">
      
      <meta name="twitter:card" content="summary">
      <meta name="twitter:image" content="/headshot-232x310.png" >
      
    <meta property="description" content="">
    <meta property="og:description" content="">
    
    <meta name="twitter:creator" content="">
    <meta name="twitter:site" content="">
    
    </head>

    
    
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
    

    <body id = "bigbody">
        <nav class="navbar navbar-default navbar-fixed-top">
            <div class="container">
                <div class="navbar-header">
                    <a class="navbar-brand visible-xs" href="#">Simdjson 0.3: My Contribution to Reducing Global Warming</a>
                    <button class="navbar-toggle" data-target=".navbar-collapse" data-toggle="collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
                <div class="collapse navbar-collapse">
                    
                        <ul class="nav navbar-nav">
                            
                                <li><a href="/">Home</a></li>
                            
                                <li><a href="/post/">Posts</a></li>
                            
                                <li><a href="/tags/">Tags</a></li>
                            
                        </ul>
                    
                    
                        <ul class="nav navbar-nav navbar-right">
                            
                                <li class="navbar-icon"><a href="mailto:john@johnkeiser.com"><i class="far fa-envelope"></i></a></li>
                            
                                <li class="navbar-icon"><a href="https://github.com/jkeiser"><i class="fab fa-github"></i></a></li>
                            
                                <li class="navbar-icon"><a href="https://twitter.com/jkeiser2/"><i class="fab fa-twitter"></i></a></li>
                            
                                <li class="navbar-icon"><a href="https://www.linkedin.com/in/john-keiser-81618532/"><i class="fab fa-linkedin"></i></a></li>
                            
                            <li id="night-mode-toggle">
    <input type="checkbox" id = "button-status"
        data-toggle="toggle"
        data-width = "10"
        data-height = "1"
        data-on="<i class='far fa-moon fa-lg'></i>"
        data-off= "<i class='far fa-sun fa-lg'></i>"
        data-style="ios"
        data-onstyle = "default">
</li>
                        </ul>
                    
                </div>
            </div>
        </nav>


<main>

    <div class="item">

    
    
    

    
    
      
    

    <h4><a href="/2020/04/01/simdjson-0.3-my-contribution-to-reducing-global-warming/">Simdjson 0.3: My Contribution to Reducing Global Warming</a></h4>
    <h5>April 1, 2020 - 2 minutes</h5>
    <h5></h5>

    
    
    <a href="/tags/simdjson">
        <kbd class="item-tag"> simdjson </kbd>
    </a>
    
    <a href="/tags/c&#43;&#43;">
        <kbd class="item-tag"> c&#43;&#43; </kbd>
    </a>
    

</div>


    <br> <div class="text-justify"><h1 id="simdjson-03-my-contribution-to-reducing-global-warming">simdjson 0.3: My Contribution to Reducing Global Warming</h1>
<p>We just released <a href="https://lemire.me/blog/2020/03/31/we-released-simdjson-0-3-the-fastest-json-parser-in-the-world-is-even-better/">simdjson 0.3</a>, a ridiculously fast
JSON parser written in C++. And I do mean ridiculously fast: it&rsquo;s 2.5x faster than the fastest
parser out there!</p>
<p>simdjson 0.3 improves a lot over 0.2:</p>
<ul>
<li>Drastically simplifies the API</li>
<li>Improves performance by another 15%</li>
<li>Provides simple, flexible error handling whether you use exceptions or error codes</li>
<li>Includes batch parsing for multiple documents in one file/buffer (ndjson) at 2-4x the normal speed</li>
<li>Parses floating-point numbers precisely, with no loss in performance</li>
<li>Adds a quickstart, usage docs / tutorials, and API docs</li>
</ul>
<p>The source has also been substantially refactored for maintainability and code reuse.</p>
<h2 id="why-it-matters">Why It Matters</h2>
<p>When I first saw this project a year ago, my jaw dropped to the floor. I still haven&rsquo;t managed to
pick it back up. JSON is decades-old, ridiculously simple and absolutely everywhere. 2x improvement
in parsing just <em>shouldn&rsquo;t be possible</em>. It shows we&rsquo;ve been doing something fundamentally wrong.</p>
<p>And it makes a big difference. Servers spend a huge amount of time reading and writing JSON. At
Chef, over 50% of the total was spent on JSON! Cut that time in half and you not only serve users
faster, you need fewer computers to do it. Which means less power, less cooling, less of everything
that is fouling the world I&rsquo;m leaving to my daughters and son.</p>
<h2 id="learning-and-growing">Learning and Growing</h2>
<p>There were many contributors to this, it&rsquo;s not the work of one or even two people. That said, I&rsquo;m
very proud of how much I&rsquo;ve learned and was able to contribute. Before this project, my
understanding of low-level performance was just good enough to avoid being stupid. I&rsquo;d never really
gone through and majorly fine-tuned performance like this, and didn&rsquo;t really know how.</p>
<p>But in the last year I&rsquo;ve learned a ton from @lemire, @geofflangdale, @travisdowns, @ioioioio, @DBT, @zwegner and many others. With the exception of exact floating-point parsing and batch parsing, I
wrote most of the features above. With their pointers and guidance, I even designed what might be
the fastest UTF-8 validation algorithm in the world, which is astonishing given that I&rsquo;ve always has
an aversion to low-level bit-twiddling :)</p>
<p>And there&rsquo;s still more to learn, so I&rsquo;m not done.</p>
</div>

    
    

    

    

    

    

</main>

        <footer id = "bigfooter">
            <div style = "padding:15px;">
                <p>Powered by <a href="https://gohugo.io">Hugo</a>. Themed by <a href="https://github.com/nathancday/min_night">min_night</a>.
                </p>
                <a rel="license" href="https://creativecommons.org/licenses/by/4.0/"
                title="Creative Commons Attribution 4.0 International license">
                <i class="fab fa-creative-commons" aria-hidden="true"></i> Attribution 4.0 International license
                </a>
            </div>
        </footer>
        
        <script async src="https://www.googletagmanager.com/gtag/js?id="></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments)};
          gtag('js', new Date());
          gtag('config', '');
        </script>
       
    </body>

</html>

